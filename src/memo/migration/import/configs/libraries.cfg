[transmogrifier]
include = memo_migration_base
pipeline -=
  title_to_id
  generate_path
  constructor
  schemaupdater
  logger
pipeline +=
  newtitle
  title_to_id
  generate_path
  constructor
  schemaupdater
  logger

[jsonsource]
tables = ['${definitions:table_prefix}library']

[portal_type]
value = string:Library

[foldering]
value = string:${definitions:path_prefix}/libraries

[settitle]
condition = python:'title' not in item and item['name'] != ""

[newtitle]
blueprint = collective.transmogrifier.sections.inserter
key = string:title
value = string:unknownName-${item/library_id}
condition = python:'title' not in item

[setsqlid]
idfield = library_id